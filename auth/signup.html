<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>signup form</h1>
        <label for="username">Username</label>
        <input type="text" placeholder="Username" id="username"> <br>
        <label for="email">email</label>
        <input type="text" placeholder="email" id="email"> <br>
        <label for="password">password</label>
        <input type="text" placeholder="password"> <br>
        <input type="reset">
        <input type="submit">
    </form>
    <script>
       let inpts= document.querySelectorAll("input[type=text]")
       let submit=document.querySelector("input[type=submit]")
     
submit.addEventListener("click",(e)=>{
    e.preventDefault()

    let name=inpts[0].value;
    let email=inpts[1].value;
    let password=inpts[2].value;
    console.log(name);
    let obj={}
    obj.username=name;
    obj.email=email;
    obj.password=password;
    console.log(obj);
    let jsonObj=JSON.stringify(obj);
    console.log(jsonObj);

fetch("http://localhost:3000/api/auth/signup",{
    method:"POST",
    headers:{
        "Content-Type": "application/json",   
    },
    body: jsonObj
}).then((e)=>{
    // console.log(e);
    return e.json()
}).then((e)=>{
    console.log(e);
    alert(e.message)
    location.href = "http://127.0.0.1:5500/FRONTEND/auth/login.html"
}).catch((err)=>{
    alert("invalid signup details")
    console.log(err);
})
})

    </script>
</body>
</html>